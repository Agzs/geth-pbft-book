
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Section2.3.1 event Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="fabric-consensus-network.html" />
    
    
    <link rel="prev" href="fabric-consensus.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Chapter1 Geth/">
            
                <a href="../Chapter1 Geth/">
            
                    
                    Chapter1 Geth
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Chapter1 Geth/geth-startup-&-configure.html">
            
                <a href="../Chapter1 Geth/geth-startup-&-configure.html">
            
                    
                    Section1.1 start & configure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Chapter1 Geth/geth-engine.html">
            
                <a href="../Chapter1 Geth/geth-engine.html">
            
                    
                    Section1.2 engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../Chapter1 Geth/geth-event-receive.html">
            
                <a href="../Chapter1 Geth/geth-event-receive.html">
            
                    
                    Section1.3 event-receive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../Chapter1 Geth/geth-event-send&mine.html">
            
                <a href="../Chapter1 Geth/geth-event-send&mine.html">
            
                    
                    Section1.4 event-send&mine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../Chapter1 Geth/Mining-process.html">
            
                <a href="../Chapter1 Geth/Mining-process.html">
            
                    
                    Section1.5 mining process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../Chapter1 Geth/communication.html">
            
                <a href="../Chapter1 Geth/communication.html">
            
                    
                    Section1.6 communication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../Chapter1 Geth/Ethereum-code.html">
            
                <a href="../Chapter1 Geth/Ethereum-code.html">
            
                    
                    Section1.7 code analysis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Chapter2 fabric
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="fabric-v0.6-startup.html">
            
                <a href="fabric-v0.6-startup.html">
            
                    
                    Section2.1 fabric v0.6 startup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="fabric-event.html">
            
                <a href="fabric-event.html">
            
                    
                    Section2.2 Event
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="fabric-event-stream-to-consenter.html">
            
                <a href="fabric-event-stream-to-consenter.html">
            
                    
                    Section2.2.1 stream to consenter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="fabric-event-consenter-to-pbft.html">
            
                <a href="fabric-event-consenter-to-pbft.html">
            
                    
                    Section2.2.2 consenter to pbft
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="fabric-event-pbft-to-network.html">
            
                <a href="fabric-event-pbft-to-network.html">
            
                    
                    Section2.2.3 pbft to network
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="fabric-consensus.html">
            
                <a href="fabric-consensus.html">
            
                    
                    Section2.3 Consensus
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.3.1" data-path="fabric-consensus-event.html">
            
                <a href="fabric-consensus-event.html">
            
                    
                    Section2.3.1 event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="fabric-consensus-network.html">
            
                <a href="fabric-consensus-network.html">
            
                    
                    Section2.3.2 network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="fabric-consensus-crypto.html">
            
                <a href="fabric-consensus-crypto.html">
            
                    
                    Section2.3.3 crypto
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="fabric-consensus-blockchain.html">
            
                <a href="fabric-consensus-blockchain.html">
            
                    
                    Section2.3.4 blockchain
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.5" data-path="fabric-consensus-stack.html">
            
                <a href="fabric-consensus-stack.html">
            
                    
                    Section2.3.5 stack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.6" data-path="fabric-consensus-others.html">
            
                <a href="fabric-consensus-others.html">
            
                    
                    Section2.3.6 others
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.7" data-path="Hyperledger-fabric-pbft-consensus.html">
            
                <a href="Hyperledger-fabric-pbft-consensus.html">
            
                    
                    Section2.3.7 summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="fabric-message.html">
            
                <a href="fabric-message.html">
            
                    
                    Section2.4 fabric message structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="Fabric-protocol.html">
            
                <a href="Fabric-protocol.html">
            
                    
                    Section2.5 fabric protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="fabric-v0.6-å®éå¥å£serveå½æ°.html">
            
                <a href="fabric-v0.6-å®éå¥å£serveå½æ°.html">
            
                    
                    Section2.6 fabric v0.6 å®éå¥å£serve()å½æ°
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="æ¥å£ä¸å®ç°.html">
            
                <a href="æ¥å£ä¸å®ç°.html">
            
                    
                    Section2.7 æ¥å£ä¸å®ç°
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="prePrepare-prepare-and-commit.html">
            
                <a href="prePrepare-prepare-and-commit.html">
            
                    
                    Section2.8 prePrepareãprepare-and-commit
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Chapter3 clique/clique.html">
            
                <a href="../Chapter3 clique/clique.html">
            
                    
                    Chapter3 clique
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../Chapter4 development notes/">
            
                <a href="../Chapter4 development notes/">
            
                    
                    Chapter4 development notes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../Chapter4 development notes/ethereum-plan.html">
            
                <a href="../Chapter4 development notes/ethereum-plan.html">
            
                    
                    Section4.1 plan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../Chapter4 development notes/">
            
                <a href="../Chapter4 development notes/">
            
                    
                    Section4.2 notes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="../Chapter4 development notes/zhiguo-notes.html">
            
                <a href="../Chapter4 development notes/zhiguo-notes.html">
            
                    
                    Section4.2.1 zhiguo's notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" data-path="../Chapter4 development notes/xiaobei/">
            
                <a href="../Chapter4 development notes/xiaobei/">
            
                    
                    Section4.2.2 xiaobei's notes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.2.1" data-path="../Chapter4 development notes/xiaobei/geth-pbftå¼åç¬è®°.html">
            
                <a href="../Chapter4 development notes/xiaobei/geth-pbftå¼åç¬è®°.html">
            
                    
                    geth-pbftå¼åç¬è®°
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.2" data-path="../Chapter4 development notes/xiaobei/geth-pbftæ¶æ¯ä¼ éæºå¶.html">
            
                <a href="../Chapter4 development notes/xiaobei/geth-pbftæ¶æ¯ä¼ éæºå¶.html">
            
                    
                    geth-pbftæ¶æ¯ä¼ éæºå¶
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.3" data-path="../Chapter4 development notes/xiaobei/checkpointé¨åçæ¢å¤ä¸ä¿®æ¹.html">
            
                <a href="../Chapter4 development notes/xiaobei/checkpointé¨åçæ¢å¤ä¸ä¿®æ¹.html">
            
                    
                    checkpointé¨åçæ¢å¤ä¸ä¿®æ¹
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.4" data-path="../Chapter4 development notes/xiaobei/stateUpdateEventåstateUpdatedEventçæ¥æ¶åå¤ç.html">
            
                <a href="../Chapter4 development notes/xiaobei/stateUpdateEventåstateUpdatedEventçæ¥æ¶åå¤ç.html">
            
                    
                    stateUpdateEventãstateUpdatedEventçæ¥æ¶åå¤ç
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.5" data-path="../Chapter4 development notes/xiaobei/viewchange struct.html">
            
                <a href="../Chapter4 development notes/xiaobei/viewchange struct.html">
            
                    
                    viewchange struct
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.6" data-path="../Chapter4 development notes/xiaobei/éå°çé®é¢1.html">
            
                <a href="../Chapter4 development notes/xiaobei/éå°çé®é¢1.html">
            
                    
                    mine test-éå°çé®é¢ï¼1ï¼
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.7" data-path="../Chapter4 development notes/xiaobei/éå°çé®é¢2.html">
            
                <a href="../Chapter4 development notes/xiaobei/éå°çé®é¢2.html">
            
                    
                    mine test-éå°çé®é¢ï¼2ï¼
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.8" data-path="../Chapter4 development notes/xiaobei/éå°çé®é¢3.html">
            
                <a href="../Chapter4 development notes/xiaobei/éå°çé®é¢3.html">
            
                    
                    mine test-éå°çé®é¢ï¼3ï¼
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.9" data-path="../Chapter4 development notes/xiaobei/viewchange-test-éå°çé®é¢1.html">
            
                <a href="../Chapter4 development notes/xiaobei/viewchange-test-éå°çé®é¢1.html">
            
                    
                    viewchange test-éå°çé®é¢ï¼1ï¼
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.10" data-path="../Chapter4 development notes/xiaobei/viewchange-test-éå°çé®é¢2.html">
            
                <a href="../Chapter4 development notes/xiaobei/viewchange-test-éå°çé®é¢2.html">
            
                    
                    viewchange test-éå°çé®é¢ï¼2ï¼
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.11" data-path="../Chapter4 development notes/xiaobei/viewchange-test-éå°çé®é¢3.html">
            
                <a href="../Chapter4 development notes/xiaobei/viewchange-test-éå°çé®é¢3.html">
            
                    
                    viewchange test-éå°çé®é¢ï¼3ï¼
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2.12" data-path="../Chapter4 development notes/xiaobei/æä½æ­¥éª¤.html">
            
                <a href="../Chapter4 development notes/xiaobei/æä½æ­¥éª¤.html">
            
                    
                    æä½æ­¥éª¤
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="../Chapter4 development notes/Agzs/Home.html">
            
                <a href="../Chapter4 development notes/Agzs/Home.html">
            
                    
                    Section4.2.3 Agzs's notes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.3.1" data-path="../Chapter4 development notes/Agzs/ç¯å¢æ­å»º.html">
            
                <a href="../Chapter4 development notes/Agzs/ç¯å¢æ­å»º.html">
            
                    
                    æ­å»ºç¼è¯ç¯å¢
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3.2" data-path="../Chapter4 development notes/Agzs/addPeeræä½è§£æ.html">
            
                <a href="../Chapter4 development notes/Agzs/addPeeræä½è§£æ.html">
            
                    
                    è§£æaddPeeræä½
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3.3" data-path="../Chapter4 development notes/Agzs/éç½®æä»¶é®é¢.html">
            
                <a href="../Chapter4 development notes/Agzs/éç½®æä»¶é®é¢.html">
            
                    
                    11.12_15 éç½®æä»¶é®é¢
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3.4" data-path="../Chapter4 development notes/Agzs/peerå±äº«é®é¢.html">
            
                <a href="../Chapter4 development notes/Agzs/peerå±äº«é®é¢.html">
            
                    
                    11.15_20 peerå±äº«è¿æ¥é®é¢
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3.5" data-path="../Chapter4 development notes/Agzs/pbftçAPIé®é¢.html">
            
                <a href="../Chapter4 development notes/Agzs/pbftçAPIé®é¢.html">
            
                    
                    11.20_21 pbftçAPIé®é¢
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3.6" data-path="../Chapter4 development notes/Agzs/pbftæç¥¨éä¸¾æ°çææèç¹signer.html">
            
                <a href="../Chapter4 development notes/Agzs/pbftæç¥¨éä¸¾æ°çææèç¹signer.html">
            
                    
                    11.21_22 pbftæç¥¨éä¸¾æ°çsigner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3.7" data-path="../Chapter4 development notes/Agzs/æ°æ®ç»æåè½æ±æ».html">
            
                <a href="../Chapter4 development notes/Agzs/æ°æ®ç»æåè½æ±æ».html">
            
                    
                    æ°æ®ç»æåè½æ±æ»
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3.8" data-path="../Chapter4 development notes/Agzs/ä¿®æ¹æä»¶æ±æ».html">
            
                <a href="../Chapter4 development notes/Agzs/ä¿®æ¹æä»¶æ±æ».html">
            
                    
                    ä¿®æ¹æä»¶æ±æ»(push)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3.9" data-path="../Chapter4 development notes/Agzs/ç¼è¯è¿è¡é®é¢æ±æ».html">
            
                <a href="../Chapter4 development notes/Agzs/ç¼è¯è¿è¡é®é¢æ±æ».html">
            
                    
                    ç¼è¯è¿è¡é®é¢æ±æ»
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3.10" data-path="../Chapter4 development notes/Agzs/ç³»ç»å­å¨çbug.html">
            
                <a href="../Chapter4 development notes/Agzs/ç³»ç»å­å¨çbug.html">
            
                    
                    æ³å°çbug
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3.11" data-path="../Chapter4 development notes/Agzs/äº¤ææµè¯.html">
            
                <a href="../Chapter4 development notes/Agzs/äº¤ææµè¯.html">
            
                    
                    äº¤ææµè¯
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../env/">
            
                <a href="../env/">
            
                    
                    env
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../env/smart-contract.html">
            
                <a href="../env/smart-contract.html">
            
                    
                    geth and smart contract
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../env/git-merge.html">
            
                <a href="../env/git-merge.html">
            
                    
                    Git merge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../env/git-pull-æ¤éè¯¯æä½.html">
            
                <a href="../env/git-pull-æ¤éè¯¯æä½.html">
            
                    
                    Git pullæ¤éè¯¯æä½
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="../env/solve-reported-error.html">
            
                <a href="../env/solve-reported-error.html">
            
                    
                    å¾ªç¯å¯¼åé®é¢
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="../env/git-lfs-ä¸ä¼ å¤§äº100MBæä»¶.html">
            
                <a href="../env/git-lfs-ä¸ä¼ å¤§äº100MBæä»¶.html">
            
                    
                    gitä¸ä¼ å¤§æä»¶
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.6" data-path="../env/å®è£librocksdb.so.4.1çå±äº«åº.html">
            
                <a href="../env/å®è£librocksdb.so.4.1çå±äº«åº.html">
            
                    
                    librocksdb.so.4.1å±äº«åºé®é¢
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../Tips/">
            
                <a href="../Tips/">
            
                    
                    Tips
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../Tips/Comma-ok.html">
            
                <a href="../Tips/Comma-ok.html">
            
                    
                    Comma-okæ­è¨
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../Tips/golang-protobuf-tutorial.html">
            
                <a href="../Tips/golang-protobuf-tutorial.html">
            
                    
                    golang å®è£ä½¿ç¨ protobuf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../Tips/Tips-in-Golang.html">
            
                <a href="../Tips/Tips-in-Golang.html">
            
                    
                    golang interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="../Tips/goè¯­è¨-ä¸-JSON.html">
            
                <a href="../Tips/goè¯­è¨-ä¸-JSON.html">
            
                    
                    goè¯­è¨-ä¸-JSON
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.5" data-path="../Tips/Terminal-Lantern.html">
            
                <a href="../Tips/Terminal-Lantern.html">
            
                    
                    Terminal Lantern
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.6" data-path="../Tips/appendå½æ°.html">
            
                <a href="../Tips/appendå½æ°.html">
            
                    
                    åç½®å½æ°append()
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Section2.3.1 event</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="event">Event</h1>
<h2 id="executionconsumer"><code>ExecutionConsumer</code></h2>
<blockquote>
<p>ExecutionConsumer allows callbacks from asycnhronous execution and statetransfer.</p>
</blockquote>
<pre><code class="lang-go"><span class="hljs-keyword">type</span> ExecutionConsumer <span class="hljs-keyword">interface</span> {
    Executed(tag <span class="hljs-keyword">interface</span>{})                                <span class="hljs-comment">// Called whenever Execute completes</span>
    Committed(tag <span class="hljs-keyword">interface</span>{}, target *pb.BlockchainInfo)    <span class="hljs-comment">// Called whenever Commit completes</span>
    RolledBack(tag <span class="hljs-keyword">interface</span>{})                              <span class="hljs-comment">// Called whenever a Rollback completes</span>
    StateUpdated(tag <span class="hljs-keyword">interface</span>{}, target *pb.BlockchainInfo) <span class="hljs-comment">// Called when state transfer completes, if target is nil, this indicates a failure and a new target should be supplied</span>
}
</code></pre>
<p><code>ExecutionConsumer</code>&#x4E3B;&#x8981;&#x5B9A;&#x4E49;&#x4E86;Tx&#x88AB;&#x5904;&#x7406;&#x4E4B;&#x540E;&#x7684;&#x64CD;&#x4F5C;(&#x4ECE;&#x51FD;&#x6570;&#x540D;&#x53EF;&#x4EE5;&#x770B;&#x51FA;, &#x90FD;&#x662F;&#x8FC7;&#x53BB;&#x5F0F;).</p>
<h3 id="usage">Usage</h3>
<ul>
<li><p>&#x4F5C;&#x4E3A;<code>consensus.Consenter</code>&#x63A5;&#x53E3;&#x7684;&#x4E00;&#x90E8;&#x5206;.</p>
<pre><code class="lang-go"><span class="hljs-keyword">type</span> Consenter <span class="hljs-keyword">interface</span> {
  RecvMsg(msg *pb.Message, senderHandle *pb.PeerID) error <span class="hljs-comment">// Called serially with incoming messages from gRPC</span>
  ExecutionConsumer
}
</code></pre>
<p>&#x5373;&#x5B9E;&#x73B0;<code>Consenter</code>&#x7684;&#x7ED3;&#x6784;&#x4E5F;&#x540C;&#x65F6;&#x9700;&#x8981;&#x5B9E;&#x73B0;<code>ExecutionConsumer</code>. &#x5177;&#x4F53;&#x88AB;&#x8C03;&#x7528;&#x60C5;&#x51B5;&#x89C1;&#x4E0B;&#x6587;&#x5BF9;<code>Consenter</code>&#x7684;&#x4ECB;&#x7ECD;.</p>
</li>
<li><p>&#x4F5C;&#x4E3A;<code>consensus/executor.coordinatorImpl</code>&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;<code>consumer</code>.</p>
<pre><code class="lang-go"><span class="hljs-keyword">type</span> coordinatorImpl <span class="hljs-keyword">struct</span> {
  manager         events.Manager              <span class="hljs-comment">// Maintains event thread and sends events to the coordinator</span>
  rawExecutor     PartialStack                <span class="hljs-comment">// Does the real interaction with the ledger</span>
  consumer        consensus.ExecutionConsumer <span class="hljs-comment">// The consumer of this coordinator which receives the callbacks</span>
  stc             statetransfer.Coordinator   <span class="hljs-comment">// State transfer instance</span>
  batchInProgress <span class="hljs-keyword">bool</span>                        <span class="hljs-comment">// Are we mid execution batch</span>
  skipInProgress  <span class="hljs-keyword">bool</span>                        <span class="hljs-comment">// Are we mid state transfer</span>
}
</code></pre>
<p><code>executor.coordinatorImpl</code>&#x662F;&#x7528;&#x6765;&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#x7684;, &#x5B9A;&#x4E49;&#x4E86;<code>func ProcessEvent()</code>, &#x5728;&#x6267;&#x884C;&#x5B8C;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x4E4B;&#x540E;, &#x8BE5;&#x51FD;&#x6570;&#x4F1A;&#x8C03;&#x7528;<code>consumer</code>&#x7684;&#x5BF9;&#x5E94;&#x7684;&#x5404;&#x51FD;&#x6570;.</p>
</li>
</ul>
<h3 id="implement">Implement</h3>
<p>&#x7A0B;&#x5E8F;&#x4E2D;&#x6CA1;&#x6709;&#x5355;&#x72EC;&#x5B9E;&#x73B0;&#x7684;<code>ExecutionConsumer</code>. &#x5373;&#x4FBF;&#x5BF9;&#x4E8E;Usage #2, &#x8BE5;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x4E5F;&#x662F;&#x7528;<code>consensus.helper</code>&#x6765;&#x521D;&#x59CB;&#x5316;&#x7684;. &#x800C;<code>consensus.helper</code>&#x5BF9;&#x8BE5;&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x4E5F;&#x4EC5;&#x4EC5;&#x662F;&#x8C03;&#x7528;<code>helper</code>&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;<code>consenter</code>. &#x6240;&#x4EE5;, &#x4EE3;&#x7801;&#x4E2D;&#x4EC5;&#x6709;&#x5B9E;&#x73B0;<code>Consenter</code>&#x7684;&#x7C7B;&#x578B;&#x5BF9;<code>ExecutionConsumer</code>&#x8FDB;&#x884C;&#x4E86;&#x5B9E;&#x73B0;. &#x5BF9;&#x4E8E;<code>Consenter</code>&#x7684;&#x5B9E;&#x73B0;, &#x5728;<code>Consenter</code>&#x90E8;&#x5206;&#x4ECB;&#x7ECD;.</p>
<pre><code class="lang-go"><span class="hljs-comment">// Executed is called whenever Execute completes</span>
<span class="hljs-keyword">func</span> (h *Helper) Executed(tag <span class="hljs-keyword">interface</span>{}) {
    <span class="hljs-keyword">if</span> h.consenter != <span class="hljs-literal">nil</span> {
        h.consenter.Executed(tag)
    }
}
</code></pre>
<h3 id="summary">Summary</h3>
<p>&#x7A0B;&#x5E8F;&#x4E2D;&#x6709;&#x4E24;&#x5904;&#x4F7F;&#x7528;<code>ExecutionConsumer</code>, &#x4E00;&#x5904;&#x4F5C;&#x4E3A;<code>Consenter</code>&#x63A5;&#x53E3;&#x7684;&#x4E00;&#x90E8;&#x5206;, &#x53E6;&#x4E00;&#x5904;&#x4F5C;&#x4E3A;<code>consensus/executor.coordinatorImpl</code>&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;. &#x4E24;&#x8005;&#x90FD;&#x662F;&#x7531;&#x901A;&#x8FC7;<code>Consenter</code>&#x5B9E;&#x73B0;&#x7684;, &#x6240;&#x4EE5;&#x4E0D;&#x5FC5;&#x5355;&#x72EC;&#x8003;&#x8651;<code>ExecutionConsumer</code>&#x7684;&#x5B9E;&#x73B0;, &#x53EA;&#x8003;&#x8651;<code>Consenter</code>&#x4E2D;&#x5BF9;&#x5E94;&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x73B0;&#x5373;&#x53EF;. &#x4E8B;&#x5B9E;&#x4E0A;, &#x8BE5;&#x63A5;&#x53E3;&#x5355;&#x72EC;&#x5B9A;&#x4E49;&#x51FA;&#x6765;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x628A;&#x529F;&#x80FD;&#x533A;&#x5206;&#x51FA;&#x6765;, &#x5176;&#x5B9E;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x5728;<code>Consenter</code>&#x91CC;, &#x56E0;&#x4E3A;&#x4E8B;&#x5B9E;&#x4E0A;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x7684;&#x4E5F;&#x53EA;&#x6709;<code>Consenter</code>.</p>
<h2 id="consenter"><code>Consenter</code></h2>
<blockquote>
<p>Consenter is used to receive messages from the network. Every consensus plugin needs to implement this interface</p>
</blockquote>
<pre><code class="lang-go"><span class="hljs-keyword">type</span> Consenter <span class="hljs-keyword">interface</span> {
    RecvMsg(msg *pb.Message, senderHandle *pb.PeerID) error <span class="hljs-comment">// Called serially with incoming messages from gRPC</span>
    ExecutionConsumer
}
</code></pre>
<p>&#x5728;fabirc/event&#x4E2D;&#x5DF2;&#x7ECF;&#x63D0;&#x5230;, <code>Consenter</code>&#x662F;<code>consensus</code>&#x4E2D;&#x63A5;&#x6536;&#x4E8B;&#x4EF6;&#x7684;&#x63A5;&#x53E3;. &#x6B64;&#x5916;&#x8FD8;&#x8D1F;&#x8D23;<code>consense</code>&#x5185;&#x90E8;&#x7684;&#x901A;&#x4FE1;&#x529F;&#x80FD;.</p>
<h3 id="usage">Usage</h3>
<ul>
<li><p>&#x4F5C;&#x4E3A;<code>consensus/controller</code>&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;.</p>
<pre><code class="lang-go"><span class="hljs-keyword">var</span> consenter consensus.Consenter
</code></pre>
<p><code>controller</code>&#x867D;&#x7136;&#x4FDD;&#x5B58;&#x4E86;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x53D8;&#x91CF;, &#x4F46;&#x662F;, &#x8BE5;&#x53D8;&#x91CF;&#x4E3A;&#x79C1;&#x6709;&#x53D8;&#x91CF;, &#x4E0D;&#x80FD;&#x88AB;&#x5916;&#x90E8;&#x8BBF;&#x95EE;, &#x4F46;&#x662F;<code>controller</code>&#x53C8;&#x6CA1;&#x6709;&#x5BF9;&#x8BE5;&#x53D8;&#x91CF;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;, &#x6240;&#x4EE5;&#x8BE5;&#x53D8;&#x91CF;&#x4E5F;&#x662F;&#x591A;&#x4F59;&#x7684;. &#x5E76;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x7528;. &#x53E6;&#x5916;, &#x5728;<code>controller</code>&#x4E2D;, &#x5B9A;&#x4E49;&#x4E86;<code>func NewConsenter(stack consensus.Stack) consensus.Consenter</code>, &#x8BE5;&#x51FD;&#x6570;&#x4F1A;&#x6839;&#x636E;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x9009;&#x62E9;&#x4F55;&#x79CD;&#x5171;&#x8BC6;&#x673A;&#x5236;. &#x6B64;&#x51FD;&#x6570;&#x4F1A;&#x5728;&#x521D;&#x59CB;&#x5316;<code>engine</code>&#x65F6;&#x88AB;&#x4F7F;&#x7528;. &#x9664;&#x6B64;&#x4E4B;&#x5916;<code>controller</code>&#x5185;&#x4E5F;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#x4E86;.</p>
</li>
<li><p>&#x4F5C;&#x4E3A;<code>consensus/helper.EngineImpl</code>&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;.</p>
<pre><code class="lang-go"><span class="hljs-keyword">type</span> EngineImpl <span class="hljs-keyword">struct</span> {
  consenter    consensus.Consenter
  helper       *Helper
  peerEndpoint *pb.PeerEndpoint
  consensusFan *util.MessageFan
}
</code></pre>
<p>&#x5728;fabric/event&#x4E2D;&#x63D0;&#x5230;&#x4E86;, &#x5728;<code>EngineImpl</code>&#x7684;&#x521D;&#x59CB;&#x5316;&#x51FD;&#x6570;&#x4E2D;&#x4F1A;&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;, &#x4E0D;&#x65AD;&#x5730;&#x4ECE;&#x7F51;&#x7EDC;&#x83B7;&#x53D6;&#x6D88;&#x606F;. &#x8BE5;&#x8FC7;&#x7A0B;&#x4F1A;&#x91CD;&#x590D;&#x8C03;&#x7528;<code>func consenter.RecvMsg()</code>. &#x53E6;&#x5916;&#x5728;<code>func EngineImpl.ProcessTransactionMsg()</code>&#x4E2D;, &#x5728;&#x6267;&#x884C;&#x5B8C;&#x4E00;&#x4E2A;tx&#x6D88;&#x606F;&#x540E;, &#x4F1A;&#x5F00;&#x59CB;&#x7B49;&#x5F85;&#x63A5;&#x6536;&#x4E00;&#x4E2A;&#x8FD4;&#x56DE;&#x6D88;&#x606F;. &#x7279;&#x522B;&#x7684;, &#x4EE3;&#x7801;&#x4E2D;&#x4E5F;&#x6709;&#x6CE8;&#x91CA;, &#x8BA8;&#x8BBA;&#x5176;&#x5FC5;&#x8981;&#x6027;.</p>
<blockquote>
<p>TODO, do we want to put these requests into a queue? This will block until the consenter gets around to handling the message, but it also provides some natural feedback to the REST API to determine how long it takes to queue messages</p>
</blockquote>
</li>
</ul>
<pre><code class="lang-go">err := eng.consenter.RecvMsg(msg, eng.peerEndpoint.ID)
</code></pre>
<p>&#x6709;&#x4E9B;&#x4E0D;&#x89E3;&#x7684;&#x662F;, &#x8BE5;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#x7684;<code>sender</code>&#x53C2;&#x6570;&#x662F;&#x6765;&#x81EA;<code>engine</code>&#x7684;&#x4E00;&#x4E2A;&#x6210;&#x5458;&#x53D8;&#x91CF;, &#x4F46;&#x89C2;&#x5BDF;&#x4EE3;&#x7801;&#x6682;&#x65F6;&#x53EA;&#x53D1;&#x73B0;&#x5BF9;&#x4E8E;&#x8BE5;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x53EA;&#x6709;&#x4E00;&#x5904;&#x8D4B;&#x503C;. &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x8BE6;&#x7EC6;&#x5206;&#x6790;<code>engine</code>&#x7684;&#x65F6;&#x5019;&#x5F04;&#x6E05;&#x695A;.</p>
<ul>
<li><p>&#x4F5C;&#x4E3A;<code>consensus/helper.Helper</code>&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;.</p>
<pre><code class="lang-go"><span class="hljs-keyword">type</span> Helper <span class="hljs-keyword">struct</span> {
  consenter    consensus.Consenter
  coordinator  peer.MessageHandlerCoordinator
  secOn        <span class="hljs-keyword">bool</span>
  valid        <span class="hljs-keyword">bool</span> <span class="hljs-comment">// Whether we believe the state is up to date</span>
  secHelper    crypto.Peer
  curBatch     []*pb.Transaction       <span class="hljs-comment">// TODO, remove after issue 579</span>
  curBatchErrs []*pb.TransactionResult <span class="hljs-comment">// TODO, remove after issue 579</span>
  persist.Helper

  executor consensus.Executor
}
</code></pre>
<p>&#x5728;<code>ExecutionConsumer</code>&#x5DF2;&#x7ECF;&#x63D0;&#x5230;, <code>Helper</code>&#x901A;&#x8FC7;&#x81EA;&#x5DF1;&#x6210;&#x5458;&#x53D8;&#x91CF;<code>consenter</code>&#x5B9E;&#x73B0;&#x4E86;<code>ExecutionConsumer</code>&#x63A5;&#x53E3;, &#x4E8B;&#x5B9E;&#x4E0A;&#x4E5F;&#x4EC5;&#x6709;&#x8FD9;&#x4E00;&#x4E2A;&#x7528;&#x5904;. &#x5F53;<code>Consenter</code>&#x4EE5;<code>ExecutionConsumer</code>&#x7684;&#x8EAB;&#x4EFD;&#x4F5C;&#x4E3A;<code>consensus/executor.coordinatorImpl</code>&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x65F6;, &#x88AB;&#x7528;&#x5728;<code>func (co *coordinatorImpl) ProcessEvent(event events.Event) events.Event</code>. &#x5728;<code>fabric/event</code>&#x91CC;&#x5DF2;&#x7ECF;&#x63D0;&#x5230;&#x8FC7;, &#x8FD9;&#x91CC;&#x4F1A;&#x6839;&#x636E;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x4E0D;&#x540C;&#x7684;&#x5904;&#x7406;, &#x5176;&#x4E2D;&#x5C31;&#x5305;&#x62EC;&#x6709;&#x4E9B;&#x52A8;&#x4F5C;&#x5904;&#x7406;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#x5BF9;<code>func Executed()</code>&#x7B49;&#x7684;&#x8C03;&#x7528;.</p>
</li>
<li><p>&#x4F5C;&#x4E3A;<code>consensus/pbft</code>&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;.</p>
<pre><code class="lang-go"><span class="hljs-keyword">var</span> pluginInstance consensus.Consenter <span class="hljs-comment">// singleton service</span>
</code></pre>
<p>&#x524D;&#x9762;&#x63D0;&#x5230;&#x4E86;, <code>controller</code>&#x5728;<code>engine</code>&#x521D;&#x59CB;&#x5316;&#x65F6;&#x4F1A;&#x8C03;&#x7528;<code>func pbft.GetPlugin()</code>&#x751F;&#x6210;&#x4E00;&#x4E2A;<code>Consenter</code>&#x4F5C;&#x4E3A;<code>engine</code>&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;.</p>
<pre><code class="lang-go"><span class="hljs-comment">// GetPlugin returns the handle to the Consenter singleton</span>
<span class="hljs-keyword">func</span> GetPlugin(c consensus.Stack) consensus.Consenter {
  <span class="hljs-keyword">if</span> pluginInstance == <span class="hljs-literal">nil</span> {
      pluginInstance = New(c)
  }
  <span class="hljs-keyword">return</span> pluginInstance
}
</code></pre>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;, <code>pbft</code>&#x53EA;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;<code>consensus.Consenter</code>, &#x4EE5;&#x540E;&#x7684;&#x8C03;&#x7528;&#x90FD;&#x4F1A;&#x8FD4;&#x56DE;&#x540C;&#x4E00;&#x4E2A;<code>Consenter</code>. <code>pbft</code>&#x81EA;&#x8EAB;&#x5E76;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>pluginInstance</code>.</p>
</li>
</ul>
<h3 id="implement">Implement</h3>
<p><code>Helper</code>&#x7684;<code>Consenter</code>&#x6765;&#x81EA;&#x4E8E;<code>engine</code>, <code>engine</code>&#x7684;<code>Consenter</code>&#x6765;&#x81EA;<code>controller</code>, <code>controller</code>&#x7684;&#x6765;&#x81EA;&#x4E8E;<code>pbft</code>. <code>pbft</code>&#x4F7F;&#x7528;<code>func New()</code>&#x6784;&#x5EFA;, &#x5982;&#x4E0B;&#x6240;&#x793A;.</p>
<pre><code class="lang-go"><span class="hljs-keyword">func</span> New(stack consensus.Stack) consensus.Consenter {
    handle, _, _ := stack.GetNetworkHandles()
    id, _ := getValidatorID(handle)

    <span class="hljs-keyword">switch</span> strings.ToLower(config.GetString(<span class="hljs-string">&quot;general.mode&quot;</span>)) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;batch&quot;</span>:
        <span class="hljs-keyword">return</span> newObcBatch(id, config, stack)
    <span class="hljs-keyword">default</span>:
        <span class="hljs-built_in">panic</span>(fmt.Errorf(<span class="hljs-string">&quot;Invalid PBFT mode: %s&quot;</span>, config.GetString(<span class="hljs-string">&quot;general.mode&quot;</span>)))
    }
}
</code></pre>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;, <code>Consenter</code>&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x4E3A;<code>obcBatch</code>, &#x6765;&#x81EA;&#x4E8E;<code>func newObcBatch()</code>. &#x8BE5;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x5728;<code>consensus/pbft/batch.go</code>. &#x4F46;&#x6B63;&#x5982;<code>fabric/event</code>&#x4E2D;&#x63D0;&#x5230;&#x7684;, <code>obcBatch</code>&#x5E76;&#x6CA1;&#x6709;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x8FD9;&#x4E9B;&#x51FD;&#x6570;, &#x800C;&#x662F;&#x7EE7;&#x627F;&#x81EA;<code>externalEventReceiver</code>. &#x8BE5;&#x7C7B;&#x578B;&#x5B9A;&#x4E49;&#x5728;<code>consensus/pbft/external.go</code>, &#x8BE5;&#x7C7B;&#x578B;&#x901A;&#x8FC7;&#x548C;<code>events.Manager</code>&#x4EA4;&#x4E92;&#x5B9E;&#x73B0;&#x4E86;&#x63A5;&#x53E3;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x4E94;&#x4E2A;&#x51FD;&#x6570;.</p>
<pre><code class="lang-go"><span class="hljs-comment">// RecvMsg is called by the stack when a new message is received</span>
<span class="hljs-keyword">func</span> (eer *externalEventReceiver) RecvMsg(ocMsg *pb.Message, senderHandle *pb.PeerID) error {
    eer.manager.Queue() &lt;- batchMessageEvent{
        msg:    ocMsg,
        sender: senderHandle,
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// Executed is called whenever Execute completes, no-op for noops as it uses the legacy synchronous api</span>
<span class="hljs-keyword">func</span> (eer *externalEventReceiver) Executed(tag <span class="hljs-keyword">interface</span>{}) {
    eer.manager.Queue() &lt;- executedEvent{tag}
}

<span class="hljs-comment">// Committed is called whenever Commit completes, no-op for noops as it uses the legacy synchronous api</span>
<span class="hljs-keyword">func</span> (eer *externalEventReceiver) Committed(tag <span class="hljs-keyword">interface</span>{}, target *pb.BlockchainInfo) {
    eer.manager.Queue() &lt;- committedEvent{tag, target}
}

<span class="hljs-comment">// RolledBack is called whenever a Rollback completes, no-op for noops as it uses the legacy synchronous api</span>
<span class="hljs-keyword">func</span> (eer *externalEventReceiver) RolledBack(tag <span class="hljs-keyword">interface</span>{}) {
    eer.manager.Queue() &lt;- rolledBackEvent{}
}

<span class="hljs-comment">// StateUpdated is a signal from the stack that it has fast-forwarded its state</span>
<span class="hljs-keyword">func</span> (eer *externalEventReceiver) StateUpdated(tag <span class="hljs-keyword">interface</span>{}, target *pb.BlockchainInfo) {
    eer.manager.Queue() &lt;- stateUpdatedEvent{
        chkpt:  tag.(*checkpointMessage),
        target: target,
    }
}
</code></pre>
<h3 id="summary">Summary</h3>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;, &#x5BF9;&#x4E8E;<code>Consenter</code>&#x7684;&#x4F7F;&#x7528;&#x5206;&#x4E3A;&#x4E24;&#x90E8;&#x5206;, &#x5206;&#x522B;&#x4E3A;<code>engine</code>&#x4F7F;&#x7528;<code>func RevMsg()</code>&#x6765;&#x63A5;&#x6536;&#x6D88;&#x606F;&#x4EE5;&#x53CA;<code>Helper</code>&#x8C03;&#x7528;<code>ExecutionConsumer</code>&#x90E8;&#x5206;&#x7684;&#x51FD;&#x6570;&#x6765;&#x5BF9;&#x63A5;&#x6536;&#x5230;&#x7684;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x5904;&#x7406;. &#x5176;&#x4F59;&#x4E24;&#x5904;&#x7684;&#x8C03;&#x7528;&#x4EC5;&#x662F;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x4E00;&#x4E9B;&#x50A8;&#x5B58;&#x548C;&#x4F20;&#x9012;, &#x5E76;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x4F7F;&#x7528;. <code>Consenter</code>&#x63A5;&#x53E3;&#x7531;<code>obcBatch</code>&#x6765;&#x5B9E;&#x73B0;, &#x4F46;&#x5B83;&#x81EA;&#x5DF1;&#x4E5F;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;, &#x800C;&#x662F;&#x7EE7;&#x627F;&#x4E86;<code>externalEventReceiver</code>, <code>externalEventReceiver</code>&#x901A;&#x8FC7;&#x548C;<code>event.Manager</code>&#x7684;&#x76F4;&#x63A5;&#x4EA4;&#x4E92;&#x6765;&#x5BF9;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x4E86;&#x5B9E;&#x73B0;.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="fabric-consensus.html" class="navigation navigation-prev " aria-label="Previous page: Section2.3 Consensus">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="fabric-consensus-network.html" class="navigation navigation-next " aria-label="Next page: Section2.3.2 network">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Section2.3.1 event","level":"1.3.3.1","depth":3,"next":{"title":"Section2.3.2 network","level":"1.3.3.2","depth":3,"path":"Chapter2 fabric/fabric-consensus-network.md","ref":"Chapter2 fabric/fabric-consensus-network.md","articles":[]},"previous":{"title":"Section2.3 Consensus","level":"1.3.3","depth":2,"path":"Chapter2 fabric/fabric-consensus.md","ref":"Chapter2 fabric/fabric-consensus.md","articles":[{"title":"Section2.3.1 event","level":"1.3.3.1","depth":3,"path":"Chapter2 fabric/fabric-consensus-event.md","ref":"Chapter2 fabric/fabric-consensus-event.md","articles":[]},{"title":"Section2.3.2 network","level":"1.3.3.2","depth":3,"path":"Chapter2 fabric/fabric-consensus-network.md","ref":"Chapter2 fabric/fabric-consensus-network.md","articles":[]},{"title":"Section2.3.3 crypto","level":"1.3.3.3","depth":3,"path":"Chapter2 fabric/fabric-consensus-crypto.md","ref":"Chapter2 fabric/fabric-consensus-crypto.md","articles":[]},{"title":"Section2.3.4 blockchain","level":"1.3.3.4","depth":3,"path":"Chapter2 fabric/fabric-consensus-blockchain.md","ref":"Chapter2 fabric/fabric-consensus-blockchain.md","articles":[]},{"title":"Section2.3.5 stack","level":"1.3.3.5","depth":3,"path":"Chapter2 fabric/fabric-consensus-stack.md","ref":"Chapter2 fabric/fabric-consensus-stack.md","articles":[]},{"title":"Section2.3.6 others","level":"1.3.3.6","depth":3,"path":"Chapter2 fabric/fabric-consensus-others.md","ref":"Chapter2 fabric/fabric-consensus-others.md","articles":[]},{"title":"Section2.3.7 summary","level":"1.3.3.7","depth":3,"path":"Chapter2 fabric/Hyperledger-fabric-pbft-consensus.md","ref":"Chapter2 fabric/Hyperledger-fabric-pbft-consensus.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Chapter2 fabric/fabric-consensus-event.md","mtime":"2017-11-27T00:41:42.508Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-11-27T12:38:20.732Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

